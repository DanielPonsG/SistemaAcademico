/* Estilos base modernos para toda la aplicación SMA */
:root {
  --color-primary: #667eea;
  --color-secondary: #764ba2;
  --sidebar-width: 230px;
  /* Escala de espacios para un respiro visual cómodo */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 24px;
  --color-success: #38d39f;
  --color-danger: #dc3545;
  --color-warning: #ffc107;
  --color-info: #17a2b8;
  --color-light: #f8f9fa;
  --color-dark: #212529;
  --color-bg: #f4f6fb;
  --radius: 14px;
  --shadow: 0 2px 12px rgba(0,0,0,0.07);
  --transition: all 0.2s cubic-bezier(.4,0,.2,1);
  --font-main: 'Inter', 'Segoe UI', Arial, sans-serif;
}

html, body {
  height: 100%;
}

body {
  background: var(--color-bg);
  font-family: var(--font-main);
  color: var(--color-dark);
  font-size: 1rem;
  margin: 0;
  min-height: 100%;
  display: flex;
  flex-direction: column;
}

.card, .main-content .card {
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border: none;
  background: #fff;
  margin-bottom: 1.5rem;
  transition: var(--transition);
}

.card-header {
  background: var(--color-light);
  border-bottom: 1px solid #e5e7eb;
  border-radius: var(--radius) var(--radius) 0 0;
  font-weight: 600;
  font-size: 1.1rem;
}

.btn, .btn-primary, .btn-success, .btn-danger, .btn-warning, .btn-info {
  border-radius: 8px;
  font-weight: 500;
  transition: var(--transition);
}

.btn-primary {
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  border: none;
}

.btn-success {
  background: linear-gradient(135deg, #38d39f, #43e97b);
  border: none;
}

.btn-danger {
  background: linear-gradient(135deg, #dc3545, #c82333);
  border: none;
}

.btn-warning {
  background: linear-gradient(135deg, #ffc107, #ffb300);
  border: none;
  color: #212529;
}

.btn-info {
  background: linear-gradient(135deg, #17a2b8, #117a8b);
  border: none;
}

.table {
  border-radius: var(--radius);
  overflow: hidden;
  background: #fff;
}

.table th, .table td {
  vertical-align: middle;
  border-top: 1px solid #e5e7eb;
}

input, select, textarea {
  border-radius: 8px !important;
  border: 1px solid #e5e7eb !important;
  background: #f8f9fa !important;
  transition: var(--transition);
}
input:focus, select:focus, textarea:focus {
  border-color: var(--color-primary) !important;
  background: #fff !important;
  box-shadow: 0 0 0 2px #667eea22;
}

.badge {
  border-radius: 6px;
  font-weight: 600;
  font-size: 0.95em;
  padding: 0.4em 0.7em;
}

.alert {
  border-radius: 10px;
  font-size: 1em;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}

::-webkit-scrollbar {
  width: 8px;
  background: #e5e7eb;
}
::-webkit-scrollbar-thumb {
  background: #cfd8dc;
  border-radius: 8px;
}

/* Animaciones sutiles */
.card, .btn, .table, .alert, .main-content {
  transition: var(--transition);
}

.card:hover {
  box-shadow: 0 6px 24px rgba(102,126,234,0.10);
  transform: translateY(-2px) scale(1.01);
}

/* Mejoras para formularios */
.form-label {
  font-weight: 600;
  color: var(--color-secondary);
}

.form-control:disabled, .form-control[readonly] {
  background: #e9ecef !important;
  color: #adb5bd;
}

/* Mejoras para menú lateral (sidebar) */
.sidebar, .left_col {
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  color: #fff;
  /* Make sidebar full height and fixed on the left */
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  width: var(--sidebar-width);
  overflow-y: auto;
}
.sidebar .menu-section-title, .left_col .menu_section h3 {
  color: #e0e0e0;
  font-weight: 700;
  letter-spacing: 1px;
  opacity: 0.8;
}
.sidebar .menu-list li a, .left_col .side-menu li a {
  color: #fff;
  border-radius: 8px;
  margin-bottom: 2px;
  font-weight: 500;
  transition: background 0.2s, color 0.2s;
}

/* Main content area sits to the right of the fixed sidebar and fills height */
.main, .main-content {
  margin-left: var(--sidebar-width); /* leave space for sidebar */
  min-height: 100vh;
  display: block;
}
/* Right content sits inside main_container; don't add extra left margin */
.right_col {
  margin-left: 0 !important;
}

/* Some legacy themes offset right_col with a left margin when nav-md is present.
   Neutralize that to avoid double-offset with our fixed sidebar. */
.nav-md .container.body .right_col,
.container.body .right_col {
  margin-left: 0 !important;
  float: none !important;
  width: 100% !important;
}
/* Ensure inner bootstrap container doesn't shift */
.right_col .container-fluid,
.right_col .container {
  margin-left: 0 !important;
  padding-left: var(--space-4) !important; /* más aire a los lados */
  padding-right: var(--space-4) !important;
}

/* If there's a top fixed header, ensure content is visible beneath it */
.navbar-fixed-top, .top-nav, .topbar {
  position: fixed;
  top: 0;
  left: var(--sidebar-width);
  right: 0;
  z-index: 1050;
}

/* Adjustments for small screens: sidebar becomes static */
@media (max-width: 991.98px) {
  .sidebar, .left_col {
    position: relative;
    width: 100%;
    height: auto;
  }
  .main, .main-content, .right_col, .container-fluid {
    margin-left: 0;
  }
}

/* Layout fixes specific to index_master structure */
/* Ensure left_col (sidebar) is fixed and top navigation is fixed,
   and main content fills remaining area. */
.left_col {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  width: var(--sidebar-width);
  z-index: 2000;
  overflow-y: auto;
}

.top_nav {
  position: fixed;
  top: 0;
  left: var(--sidebar-width); /* start after the sidebar */
  right: 0;
  height: 64px;
  z-index: 2010;
  background: #ffffffcc; /* slight transparency to blend */
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  box-shadow: 0 1px 8px rgba(0,0,0,0.06);
}

.main_container {
  margin-left: var(--sidebar-width); /* start after the fixed sidebar */
  margin-top: 64px;   /* space for fixed top_nav */
  min-height: calc(100vh - 64px);
  padding-left: var(--space-4) !important;
  padding-right: var(--space-4) !important;
}

/* Force main content to occupy remaining horizontal space and
  remove Bootstrap container max-width centering that creates white margins */
.main_container {
  width: calc(100% - var(--sidebar-width));
  box-sizing: border-box;
}

.main_container .container, .main_container .container-fluid {
  max-width: none !important;
  width: auto !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* If templates use a centered wrapper, force it to stretch */
.main_container .row, .main_container .col-md-9, .main_container .right_col, .main_container .main {
  width: 100% !important;
  max-width: 100% !important;
}

/* Prevent horizontal scroll due to tiny rounding */
html, body {
  overflow-x: hidden;
}

/* Ensure outer bootstrap container used by the template is full-width
   (the template uses <div class="container body"> as outer wrapper).
   This removes Bootstrap's centered max-width behavior for this layout. */
.container.body, .container.body > .main_container, .container.body > .main_container > .right_col {
  max-width: 100% !important;
  width: 100% !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  box-sizing: border-box;
}

/* Also ensure any top-level .container is not constraining width */
.container, .container-fluid {
  max-width: 100% !important;
  width: 100% !important;
}

/* Expand right-side content panels and common wrappers so UI fills area */
.main_container .right_col, .right_col, .main_container .page-content, .page-content,
.main_container .x_panel, .x_panel, .x_content, .main_container .dashboard_graph,
.dashboard_graph, .main_container .col-md-9, .main_container .col-sm-9,
.main_container .col-xs-12, .main_container .tile, .panel, .panel-body {
  max-width: none !important;
  width: 100% !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
}

/* Remove Bootstrap row gutters inside main_container to avoid side gaps */
.main_container .row {
  margin-left: 0 !important;
  margin-right: 0 !important;
}

.main_container .row > [class*='col-'] {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* Force direct children of main_container (except the left_col wrapper) to start after the fixed sidebar */
.main_container > :not(.col-md-3) {
  margin-left: 0 !important;
  width: 100% !important;
  box-sizing: border-box;
  padding-left: var(--space-4) !important;
  padding-right: var(--space-4) !important;
}

/* The Bootstrap grid wrapper for the sidebar exists in DOM but sidebar is fixed.
   Avoid this wrapper reserving width (col-md-3) so content can use 100%. */
.main_container > .col-md-3.left_col {
  width: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  float: left !important;
}

/* Ensure page-title and title_right use full width so cards align */
.page-title, .title_right {
  width: 100% !important;
}

@media (min-width: 992px) {
  /* In desktop, right area fills the main_container width */
  .main_container .right_col, .right_col, .main_container .page-content {
    width: 100% !important;
  }
}

/* Ensure footer sits below content and not overlapped */
footer {
  margin-left: 0;
  padding: 12px 24px;
}

@media (max-width: 991.98px) {
  .left_col, .top_nav {
    position: relative;
    left: 0;
    width: 100%;
  }
  .main_container, footer {
    margin-left: 0;
    margin-top: 0;
  }
}
.sidebar .menu-list li a.active, .sidebar .menu-list li a:hover,
.left_col .side-menu li a.active, .left_col .side-menu li a:hover {
  background: rgba(255,255,255,0.13);
  color: #fff;
}

/* Mejoras para cards de accesos rápidos */
.quick-access-card {
  background: linear-gradient(135deg, #f8fafc 60%, #e9ecef 100%);
  border: 1px solid #e5e7eb;
  box-shadow: 0 2px 8px rgba(102,126,234,0.04);
  border-radius: 12px;
  transition: var(--transition);
}
.quick-access-card:hover {
  background: linear-gradient(135deg, #e0e7ff 60%, #f8fafc 100%);
  box-shadow: 0 6px 24px rgba(102,126,234,0.10);
  transform: translateY(-2px) scale(1.03);
}

/* Mejoras para leyendas y detalles */
.legend-color {
  border-radius: 4px;
  border: 1px solid #e5e7eb;
}

/* Mejoras para responsividad */
@media (max-width: 991.98px) {
  .main-content {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  .card {
    margin-bottom: 1rem;
  }
}

@media (max-width: 575.98px) {
  .main-content {
    padding: 0.5rem !important;
  }
  .card-header, .card-body {
    padding: 1rem !important;
  }
}

/* ===== Espaciado cómodo dentro del contenido (sin márgenes externos) ===== */
/* Reintroducimos gutters suaves dentro de filas del área derecha */
.right_col .row {
  margin-left: calc(-1 * var(--space-3)) !important;
  margin-right: calc(-1 * var(--space-3)) !important;
}
.right_col .row > [class*='col-'] {
  padding-left: var(--space-3) !important;
  padding-right: var(--space-3) !important;
}

/* En la mayoría de vistas hay layout 8/4 o 9/3. Forzamos 1 columna para dar
   más ancho al contenido principal y que no se vea "a la mitad". */
.right_col .row > .col-md-8,
.right_col .row > .col-lg-7,
.right_col .row > .col-md-9,
.right_col .row > .col-lg-8,
.right_col .row > .col-lg-9 {
  width: 100% !important;
  float: none !important;
}
.right_col .row > .col-md-4,
.right_col .row > .col-lg-5,
.right_col .row > .col-md-3,
.right_col .row > .col-lg-4,
.right_col .row > .col-lg-3 {
  width: 100% !important;
  float: none !important;
}

/* Paneles y tarjetas con padding interno agradable */
.x_panel, .panel, .card {
  padding: var(--space-4) !important;
  border-radius: 12px;
  background: #fff;
  box-shadow: var(--shadow);
}
.panel-body, .x_content {
  padding: var(--space-3) 0 0 0 !important;
}
.x_title, .card-header {
  margin-bottom: var(--space-3) !important;
  padding-bottom: var(--space-2) !important;
  border-bottom: 1px solid #e5e7eb;
}

/* Formularios: respiración entre campos */
.form-group {
  margin-bottom: var(--space-4) !important;
}
.form-group > label {
  margin-bottom: var(--space-2) !important;
}

/* Bloques informativos (alertas, tablas) con separación vertical uniforme */
.alert, .table, .panel, .x_panel, .card {
  margin-bottom: var(--space-4) !important;
}

/* Evitar scroll horizontal a nivel global, pero permitir que contenedores internos calculen bien sus gutters */
html, body {
  overflow-x: hidden;
}
